<!DOCTYPE html>
<html>
	<head>
		<link rel="shortcut icon" type="image/ico" href="images/favicon.ico" id="favicon">
	</head>
	<body>
		
		
		
		<script>
		// create the canvas
		var canvas = document.createElement("CANVAS");
		var ctx = canvas.getContext("2d");
		canvas.width = 16;
		canvas.height = 16;
		
		// load game resources
		var images = [];
		
		// prepares an image to be loaded and returns the element
		function addImage(imgSrc) {
			var newImg = new Image();
			images.push({img:newImg, src:imgSrc});
			return newImg;
		}
		
		// create image objects
		var dinoImage 		= addImage("images/dino.png");
		var cacti 		= addImage("images/cacti.png");
		var pressSpace 		= addImage("images/press_space.png");
		var digits 		= addImage("images/digits.png");
		
		// load each image and then start the game loop
		function loadImages() {
			if (images.length > 0) {
				
				// load the first image in the array
				images[0].img.onload = loadImages;
				images[0].img.src = images[0].src;
				
				// delete the first element of the array
				images.shift();
				
			} else {
				start();
				console.log("start");
			}
		}
		loadImages();
		
		// sets the favicon (duh)
		function setFavicon() {
			var favicon = document.getElementById("favicon");
			var newIcon = favicon.cloneNode(true);
			newIcon.setAttribute("href", canvas.toDataURL());
			favicon.parentNode.replaceChild(newIcon, favicon);
		}
		
		// game state function
		var currentState = titleScreen;
			
		// game loop
		function start() {
			// start the first game state
			titleScreenStart();
			
			// start the game loop
			window.setInterval(function() {
				currentState();
				setFavicon();
			}, 50);
		}
			
		/* game states */
			
		// title screen
		var showPressSpace = true;
		var toggleSpaceInterval;
		function toggleSpace() {
			showPressSpace = !showPressSpace;
		}
		
		function titleScreenStart() {
			toggleSpaceInterval = window.setInterval(toggleSpace, 500);
		}
			
		function titleScreen() {
			titleScreenUpdate();
			titleScreenRender();
		}
		
		function titleScreenUpdate() {
			
		}
			
		function titleScreenRender() {
			if (showPressSpace) {
				ctx.drawImage(pressSpace, 0, 0);
			}
			ctx.drawImage(dinoImage, 0, 11);
		}
			
		function titleScreenQuit() {
			window.clearInterval(toggleSpaceInterval);
		}
			
		// game
		function gameStart() {
			
		}
			
		function game() {
			gameUpdate();
			gameRender();
		}
			
		function gameUpdate() {
			
		}
		
		function gameRender() {
			
		}
			
		function gameQuit() {
			
		}
			
		// game over
		function gameOver() {
			// do stuff
		}
		
		</script>
	</body>
</html>


<!--
<button onclick="makeWord(7)">Generate!</button><span id="text"></span>
<script>
var elem = document.getElementById("text");
function makeWord(n) {
  var text = "";
  var possible = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";

  for (var i = 0; i < n; i++)
    text += possible.charAt(Math.floor(Math.random() * possible.length));

  elem.innerHTML = text;
}
</script>
-->
